---
title: "Функции и возвращаемые значения"
category: "golang"
categoryTitle: "Go"
section: "basics"
sectionTitle: "Базовые конструкции"
sectionOrder: 2
order: 3
---

Функция — это отдельный блок кода, который делает одну конкретную задачу. Вы даете функции какие-то данные на вход (аргументы), она их обрабатывает и возвращает результат.

В Go функции — это главные строительные кирпичики программы. Даже сама программа начинается с функции `main`.

## Простое создание функции

Чтобы создать функцию, используем ключевое слово `func`.

Структура: `func Имя(параметры) ТипВозврата { тело }`

```go
// Принимает два числа (x и y), возвращает их сумму (int)
func add(x int, y int) int {
    return x + y
}

func main() {
    result := add(5, 10)
    fmt.Println(result) // 15
}
```

**Лайфхак**: Если параметры одного типа, его можно написать один раз в конце.
`func add(x, y int)` — это то же самое, что и `func add(x int, y int)`.

## Суперспособность Go: Возврат нескольких значений

В большинстве языков (C, Java, JS) функция может вернуть только **один** результат. Если нужно вернуть больше, приходится создавать сложные объекты или массивы.

В Go всё проще: функция может вернуть сколько угодно значений через запятую.

### Зачем это нужно?

Самый частый сценарий: вернуть **результат** и **ошибку**.

```go
// Возвращает результат деления (float64) И признак успеха (bool)
func divide(a, b float64) (float64, bool) {
    if b == 0 {
        // Делить на ноль нельзя.
        // Возвращаем 0 (как результат) и false (как ошибку)
        return 0, false 
    }
    // Всё ок: возвращаем результат и true
    return a / b, true
}

func main() {
    res, ok := divide(10, 2)
    
    if ok {
        fmt.Println("Ответ:", res)
    } else {
        fmt.Println("Ошибка: деление на ноль")
    }
}
```

Это делает код очень надежным. Вы сразу видите, удалась операция или нет.

## Пустой идентификатор (игнорирование значений)

Иногда функция возвращает несколько значений, но вам нужно только одно из них.

В Go нельзя просто создать переменную и не использовать её (компилятор не даст). Для этого есть специальный символ `_` (нижнее подчеркивание). Он работает как "черная дыра": всё, что туда попадает, исчезает.

```go
// Нам нужен только результат, на успешность нам плевать
res, _ := divide(100, 2) 
fmt.Println(res)
```

## Именованные возвращаемые значения

Можно заранее придумать имена для переменных, которые вернет функция. Они будут созданы автоматически.

```go
// Мы говорим: функция вернет переменные x и y
func getCoords() (x, y int) {
    x = 10
    y = 20
    // return без аргументов автоматически вернет текущие x и y
    return 
}
```

Это называется "naked return" (голый возврат).
*Совет*: Используйте это только в коротких функциях. В длинных это путает, потому что непонятно, что именно вернулось.

## Функция с переменным числом аргументов

Иногда мы не знаем, сколько аргументов передадут. Например, функция `fmt.Println` может принять хоть 1, хоть 10 строк.

Для этого используется троеточие `...`.

```go
// nums ...int означает: "прими сюда кучу int-ов и положи их в срез nums"
func sum(nums ...int) int {
    total := 0
    // Перебираем все полученные числа
    for _, n := range nums {
        total += n
    }
    return total
}

func main() {
    fmt.Println(sum(1, 2))       // 3
    fmt.Println(sum(1, 2, 3, 4)) // 10
}
```

## Итог

1. Функции объявляются через `func`.
2. Самая мощная фишка — **множественный возврат** (например, `result, error`).
3. Если значение не нужно, используйте `_`, чтобы игнорировать его.
4. Если не знаете количество аргументов, используйте `...`.
