---
title: "Функции и возвращаемые значения"
category: "golang"
categoryTitle: "Go"
section: "basics"
sectionTitle: "Базовые конструкции"
sectionOrder: 2
order: 3
---

Функции в Go — это строительные блоки программы. Они объявляются ключевым словом `func`. Главная особенность функций в Go — способность возвращать **несколько значений сразу**.

## Простое объявление

Если параметры имеют одинаковый тип, его можно указать один раз в конце.

```go
// Принимает два int, возвращает int
func add(x, y int) int {
    return x + y
}
```

## Несколько возвращаемых значений

Это киллер-фича Go. Вместо того чтобы возвращать сложный объект или выбрасывать исключение, функция часто возвращает результат **и** ошибку (или дополнительный статус).

```go
func divide(a, b float64) (float64, bool) {
    if b == 0 {
        return 0, false // Делить нельзя, возвращаем флаг ошибки
    }
    return a / b, true
}

func main() {
    res, ok := divide(10, 2)
    if !ok {
        fmt.Println("Ошибка деления")
        return
    }
    fmt.Println("Результат:", res)
}
```

### Игнорирование значений

Если вам не нужно одно из возвращаемых значений, используйте **пустой идентификатор** (подчёркивание `_`). В Go нельзя создать переменную и не использовать её, поэтому `_` — это легальный способ «выкинуть» ненужное значение.

```go
res, _ := divide(10, 2) // Нам важен только результат, статус игнорируем
```

## Именованные возвращаемые значения

Можно дать имена возвращаемым переменным прямо в сигнатуре функции. Они автоматически создаются при старте функции, и `return` без аргументов (naked return) вернёт их текущие значения.

```go
func getCoords() (x, y int) {
    x = 10
    y = 20
    return // Вернёт 10, 20
}
```

*Совет: Используйте это с осторожностью. В больших функциях «пустой return» может запутать читателя, так как неочевидно, что именно возвращается.*

## Вариативные функции

Функция может принимать переменное количество аргументов одного типа. Это делается через `...`.

```go
func sum(nums ...int) int {
    total := 0
    for _, n := range nums {
        total += n
    }
    return total
}

func main() {
    fmt.Println(sum(1, 2))       // 3
    fmt.Println(sum(1, 2, 3, 4)) // 10
}
```

## Итог

- Тип указывается после имени переменной: `x int`.
- Функция может возвращать сколько угодно значений: `(int, error)`.
- Ненужные значения игнорируются через `_`.
- Множественный возврат — основа обработки ошибок в Go (об этом в следующем уроке).
