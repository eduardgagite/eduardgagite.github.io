---
title: "Условия и циклы"
category: "golang"
categoryTitle: "Go"
section: "basics"
sectionTitle: "Базовые конструкции"
sectionOrder: 2
order: 2
---

В программировании мы постоянно управляем потоком выполнения: «если произошло X, сделай Y, иначе сделай Z» или «повтори это действие 10 раз». В Go для этого используется минимальный набор инструментов, но они очень мощные.

## Условный оператор if

Конструкция **if** (если) проверяет какое-то условие. Если оно истинно (true), выполняется блок кода внутри фигурных скобок.

### Базовый синтаксис

В отличие от многих языков (C, Java, Python), в Go **не нужны круглые скобки** вокруг условия. Это делает код чище. Но фигурные скобки **{ }** обязательны, даже если внутри всего одна строка.

```
package main

import "fmt"

func main() {
    x := 10

    if x > 5 {
        fmt.Println("Число больше 5")
    }
}
```

### Ветка else (иначе)

Мы можем добавить блок **else**, который выполнится, если условие в **if** оказалось ложным.

```
age := 16

if age >= 18 {
    fmt.Println("Доступ разрешён")
} else {
    fmt.Println("Слишком рано")
}
```

### Множественные условия (else if)

Если нужно проверить несколько вариантов, используйте **else if**.

```
score := 85

if score >= 90 {
    fmt.Println("Отлично")
} else if score >= 75 {
    fmt.Println("Хорошо")
} else {
    fmt.Println("Можно лучше")
}
```

### If с инициализацией (продвинутая фишка)

В Go можно выполнить короткое действие прямо перед проверкой условия. Это часто используют, чтобы получить значение и сразу его проверить. Переменная, созданная таким образом, **живет только внутри блока if/else**.

**Зачем это нужно?** Чтобы не засорять основной код временными переменными.

```
data := map[string]string{"name": "Alice"}

if val, ok := data["name"]; ok {
    fmt.Println("Имя найдено:", val)
} else {
    fmt.Println("Имя не найдено")
}
```

---

## Цикл for

Цикл позволяет повторять один и тот же код несколько раз. В Go есть только один ключевое слово для циклов — **for**. Оно заменяет все виды циклов из других языков (**while**, **do-while**, **foreach**).

### 1. Классический цикл со счетчиком

Используется, когда мы знаем, сколько раз нужно повторить действие.

Структура: **for инициализация; условие; действие_после_шага**

```
for i := 0; i < 5; i++ {
    fmt.Println("Шаг:", i)
}
```

### 2. Цикл с условием (аналог while)

Используется, когда мы не знаем точное число повторений, но знаем условие, пока цикл должен работать.

```
n := 1

for n < 100 {
    n = n * 2
    fmt.Println(n)
}
```

### 3. Бесконечный цикл

Иногда программе нужно работать вечно (например, сервер, который ждет запросы). Если не указать никаких условий, цикл будет бесконечным.

```
for {
    fmt.Println("Работаю...")

    if someCondition {
        break
    }
}
```

---

## Switch (переключатель)

Когда нужно проверить одну переменную на множество конкретных значений, **if-else** становится громоздким. **switch** делает код красивее.

### Как это работает

Мы берем переменную и сравниваем её с разными вариантами (**case**).

```
day := "Вторник"

switch day {
case "Понедельник":
    fmt.Println("Начало недели")
case "Вторник":
    fmt.Println("Уже легче")
case "Пятница":
    fmt.Println("Почти выходные")
default:
    fmt.Println("Обычный день")
}
```

**Особенности Switch в Go:**
1. **Не нужен break**. В других языках, если вы забыли написать **break**, выполнение перейдет к следующему **case**. В Go это не так: выполнился один блок — вышли из **switch**.
2. **Несколько значений в одном case**.

```
letter := "a"

switch letter {
case "a", "e", "i", "o", "u":
    fmt.Println("Это гласная")
default:
    fmt.Println("Это согласная")
}
```

### Switch без условия (замена длинных if-else)

Можно использовать **switch** вообще без переменной. Тогда каждый **case** — это просто логическое условие. Это выглядит аккуратнее, чем куча **else if**.

```
t := 15

switch {
case t < 12:
    fmt.Println("Утро")
case t < 18:
    fmt.Println("День")
default:
    fmt.Println("Вечер")
}
```

## Итог

1. **if**: Используем для проверок. Круглые скобки не нужны.
2. **if с инициализацией**: Удобно, чтобы создать временную переменную только на время проверки.
3. **for**: Универсальный цикл. Может быть счетчиком (**i=0; i<10; i++**) или работать пока верно условие (**while**).
4. **switch**: Идеален, когда у переменной много возможных значений. Чище и понятнее, чем куча **if**.
