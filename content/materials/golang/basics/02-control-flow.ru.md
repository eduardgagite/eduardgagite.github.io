---
title: "Условия и циклы"
category: "golang"
categoryTitle: "Go"
section: "basics"
sectionTitle: "Базовые конструкции"
sectionOrder: 2
order: 2
---

В Go минимум управляющих конструкций. Здесь всего один вид цикла (`for`) и стандартные условия (`if`, `switch`). Но они спроектированы так, чтобы покрывать все потребности без лишней сложности.

## Условный оператор if

Синтаксис похож на C или Java, но **круглые скобки вокруг условия не нужны**. Фигурные скобки `{ }` обязательны всегда.

```go
x := 10

if x > 5 {
    fmt.Println("Больше 5")
} else {
    fmt.Println("Меньше или равно 5")
}
```

### If с инициализацией

Очень удобная фишка Go: перед проверкой условия можно выполнить короткую инструкцию (например, создать переменную). Область видимости этой переменной ограничена блоком `if-else`.

```go
// Получаем значение из карты и сразу проверяем, существует ли оно
if val, ok := data["key"]; ok {
    fmt.Println("Значение:", val)
} else {
    fmt.Println("Ключ не найден")
}
// Здесь переменные val и ok уже недоступны
```

## Цикл for

`for` — это **единственный** цикл в Go. Он заменяет собой `while`, `do-while` и `foreach`.

### 1. Классический цикл (как в C)

```go
for i := 0; i < 5; i++ {
    fmt.Println(i)
}
```

### 2. Цикл с условием (аналог while)

Просто пропускаем инициализацию и пост-действие.

```go
n := 1
for n < 100 {
    n *= 2
}
```

### 3. Бесконечный цикл

Если убрать вообще всё, получится бесконечный цикл. Используется для серверов или воркеров, которые должны работать постоянно.

```go
for {
    // Делаем работу...
    
    if shouldStop {
        break // Выход из цикла
    }
}
```

## Switch

Оператор `switch` в Go удобнее, чем во многих других языках.

1. **Не нужен break**. В Go кейсы не «проваливаются» друг в друга по умолчанию. Выполнился один — вышли из switch.
2. **Можно перечислять несколько значений**.

```go
day := "Sunday"

switch day {
case "Saturday", "Sunday":
    fmt.Println("Выходной")
case "Monday":
    fmt.Println("Начало недели")
default:
    fmt.Println("Рабочий день")
}
```

### Switch без условия (альтернатива if-else if)

Если не передать аргумент в `switch`, то кейсы будут проверяться как логические условия. Это выглядит чище, чем длинная «лесенка» из `if`.

```go
t := time.Now().Hour()

switch {
case t < 12:
    fmt.Println("Утро")
case t < 18:
    fmt.Println("День")
default:
    fmt.Println("Вечер")
}
```

## Итог

- Условия `if` пишутся без круглых скобок.
- Используйте `if var := ...; condition` для компактности и ограничения области видимости.
- `for` — единственный цикл на все случаи жизни.
- `switch` не требует `break` и отлично заменяет сложные цепочки `if-else`.
