---
title: "Карты (Maps)"
category: "golang"
categoryTitle: "Go"
section: "data-structures"
sectionTitle: "Структуры данных"
sectionOrder: 3
order: 2
---

Карта (map, словарь, хеш-таблица) — это структура данных, которая хранит пары **"Ключ — Значение"**. В отличие от массива, где доступ идет по индексу (0, 1, 2...), в карте вы достаете данные по уникальному ключу (например, по ID пользователя или названию товара).

## Создание карты

Как и срезы, карты нужно инициализировать. Если вы просто объявите переменную, она будет `nil`, и запись в неё вызовет панику.

### 1. Через make (пустая карта)

```go
// Ключи типа string, значения типа int
// make(map[ТипКлюча]ТипЗначения)
prices := make(map[string]int)

prices["apple"] = 100
prices["banana"] = 200
```

### 2. Через литерал (с данными)

```go
roles := map[string]string{
    "admin":  "Super User",
    "editor": "Content Manager",
}
```

## Работа с картой

### Получение значения

```go
price := prices["apple"] // 100
```

А что будет, если ключа нет? Паники не будет. Go вернет **нулевое значение** для типа данных (0 для int, "" для string).

```go
// "orange" нет в карте, поэтому вернется 0
val := prices["orange"] 
```

### Проверка: есть ключ или нет?

Иногда нам важно знать: значение действительно равно 0 или ключа вообще не существует? Для этого используется "ok-идиома".

```go
val, ok := prices["orange"]

if ok {
    fmt.Println("Цена апельсина:", val)
} else {
    fmt.Println("Апельсинов нет в продаже")
}
```

### Удаление элемента

Для этого есть встроенная функция `delete`.

```go
delete(prices, "apple") // Удалит ключ "apple"
delete(prices, "missing") // Если ключа нет, ничего не произойдет (безопасно)
```

## Перебор карты (Range)

Карту можно перебирать в цикле.

**Важно**: Порядок перебора карты в Go — **случайный** (рандомный). Если вы запустите этот код дважды, порядок вывода может отличаться. Не полагайтесь на то, что ключи будут отсортированы.

```go
for key, value := range prices {
    fmt.Printf("%s стоит %d\n", key, value)
}
```

## Важные детали

1. **Ключи**. Ключом может быть любой тип, который можно сравнивать на `==` (строки, числа, булевы значения). Срезы и другие карты ключами быть **не могут**.
2. **Нулевая карта**. Если вы объявите карту без `make`, она будет `nil`. Читать из неё можно (вернет нули), но писать нельзя — будет паника `assignment to entry in nil map`.

```go
// ПЛОХО
var m map[string]int
m["key"] = 1 // Panic!

// ХОРОШО
m := make(map[string]int)
m["key"] = 1 // OK
```

## Итог

1. Карта хранит пары `ключ:значение`.
2. Создавайте через `make` или литерал `{}`.
3. Проверяйте наличие ключа через `val, ok := m[key]`.
4. Порядок элементов в карте случайный.
