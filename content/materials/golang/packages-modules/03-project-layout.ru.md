---
title: "Структура проекта и рабочие каталоги"
category: "golang"
categoryTitle: "Go"
section: "packages-modules"
sectionTitle: "Пакеты и модули"
sectionOrder: 4
order: 3
---

Когда ваш проект вырастает за пределы одного файла `main.go`, встает вопрос: как всё разложить, чтобы не запутаться?

В Go есть **стандартный лейаут** (Go Project Layout), который не является законом, но принят сообществом. Если вы будете ему следовать, любому другому Go-разработчику будет легко разобраться в вашем коде.

## Плоская структура (для маленьких проектов)

Если у вас микросервис на 5-10 файлов, не усложняйте. Просто сложите всё в корень.

```
my-app/
├── go.mod
├── go.sum
├── main.go
├── user.go
└── store.go
```

Это нормально. Не нужно создавать папки ради папок.

## Стандартная структура (для средних и больших проектов)

Если проект растет, код разделяют на слои.

```
my-project/
├── cmd/                # Точки входа (main файлы)
│   └── api/
│       └── main.go     # Запуск API сервера
│
├── internal/           # Приватный код приложения
│   ├── models/         # Структуры данных (User, Order)
│   ├── handlers/       # Обработчики HTTP запросов
│   └── storage/        # Работа с базой данных
│
├── pkg/                # Публичные библиотеки (можно импортировать извне)
│   └── utils/
│
├── go.mod
└── go.sum
```

### Разбор папок

1. **cmd/**
   Здесь лежат только файлы `main.go`, которые запускают приложение. Логики тут быть не должно — только инициализация и вызов кода из других папок.

2. **internal/**
   Это специальная папка. Go **запрещает** импортировать код из `internal` другим проектам. Это ваш способ сказать: "Это мои кишки, не трогайте их". Здесь живет вся бизнес-логика.

3. **pkg/**
   Здесь лежит код, который вы не против отдать другим. Например, какая-то полезная утилита для логов, которую можно использовать в другом микросервисе. Если сомневаетесь — кладите в `internal`.

## Чего делать НЕ надо

- **Не создавайте папку src/**. Это привычка из Java или старого Go, сейчас так не делают.
- **Не создавайте папку models/**, если в ней просто свалка всех структур. Лучше группировать по смыслу: `internal/user/model.go`.
- **Избегайте циклических зависимостей**. Пакет A не может импортировать пакет B, если B уже импортирует A. Продуманная структура (слои) помогает этого избежать.

## Итог

1. Начинайте с плоской структуры.
2. Когда станет тесно, создайте `cmd/` и `internal/`.
3. Скрывайте реализацию в `internal`, чтобы никто случайно не завязался на ваш внутренний код.
