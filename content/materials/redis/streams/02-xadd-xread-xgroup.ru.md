---
title: "XADD, XREAD, XGROUP"
category: "redis"
categoryTitle: "Redis"
section: "streams"
sectionTitle: "Redis Streams"
sectionOrder: 4
order: 2
---

**XADD**, **XREAD** и **XGROUP** — базовые команды для работы со **Streams**. Они позволяют добавлять события, читать их и организовывать группы для распределённой обработки. Эти команды делают потоки похожими на полноценного message broker, но с простотой Redis.

Используйте их, когда нужно фиксировать события и распределять их между сервисами, например, для уведомлений или задач.

## XADD: Добавление записи

**XADD** добавляет новую запись в поток. Укажите ключ потока, ID (или * для авто) и пары поле-значение.

Пример: логируем событие о заказе.

```
XADD orders:stream * user_id 123 action &quot;purchase&quot; amount 50
```

Команда вернёт ID, например, 1700570000000-0. Теперь в потоке есть запись с полями user_id, action и amount.

Это удобно для асинхронной фиксации: событие добавляется мгновенно, а обработка — позже.

## XREAD: Чтение записей

**XREAD** читает записи из потока, начиная с указанного ID. Можно читать из нескольких потоков сразу.

Пример: прочитать все новые записи из **orders:stream**, начиная с 0 (начала).

```
XREAD STREAMS orders:stream 0
```

Вернёт массив записей с их ID и полями. Если записей нет, команда заблокируется до появления новых (с опцией BLOCK).

Используйте, когда один потребитель читает весь поток, без распределения.

## XGROUP: Создание группы потребителей

**XGROUP** создаёт группу для совместной обработки. Группа отслеживает, какие записи прочитаны.

Сначала создаём группу:

```
XGROUP CREATE orders:stream processing-group $ MKSTREAM
```

$ — значит начинать с конца потока. Теперь несколько потребителей могут читать через группу.

Это нужно, чтобы избежать дубликатов: каждый член группы получает уникальные записи.

## Итог

**XADD** для добавления, **XREAD** для чтения, **XGROUP** для организации — эти команды покрывают базовую работу со **Streams**. Они просты, но позволяют строить надёжные системы. **Ключ — в автоматических ID и поддержке блокирующего чтения для реального времени.**


