---
title: "Типичные ошибки безопасности"
category: "redis"
categoryTitle: "Redis"
section: "security"
sectionTitle: "Безопасность"
sectionOrder: 9
order: 5
---

Большинство проблем безопасности с **Redis** возникают не из‑за сложных уязвимостей, а из‑за простых ошибок в конфигурации. Сервер оказывается доступен из интернета, пароли лежат в репозитории, а дампы данных никто не защищает.

Ниже — короткий список типичных промахов и способов их избежать.

## Открытый Redis в интернет

Классическая ошибка — поднять Redis с bind 0.0.0.0 и без firewall.

Пример опасной конфигурации:

```
bind 0.0.0.0
protected-mode no
requirepass ""
```

Такой сервер становится добычей для автоматических сканеров: любой, кто найдёт порт 6379, может выполнять команды, читать и стирать данные.

Как правильно:

- не публиковать Redis напрямую в интернет;
- использовать приватные сети, VPN и firewall;
- включать protected-mode и аккуратно настраивать bind.

## Отсутствие аутентификации и ACL

Ещё одна частая проблема — отсутствие пароля и единый доступ ко всему Redis.

Ошибочный подход:

- rely только на «внутреннюю сеть»;
- использовать один пароль для всего и всех сервисов.

Лучше:

- всегда задавать requirepass или ACL;
- создавать отдельных пользователей для разных сервисов;
- выдавать каждому минимально необходимый набор команд и ключей.

## Пароли и конфиги в репозитории

Даже при хорошей настройке Redis можно всё испортить, если положить пароли и ключи в git.

Типичный антипример:

- redis.conf с реальными паролями в репозитории;
- docker-compose.yml с открытыми секретами;
- README с реальными командами AUTH.

Лучше:

- хранить секреты в менеджерах вроде Vault или встроенных секрета‑хранилищах облака;
- передавать пароли через переменные окружения или отдельные файлы, не попадающие в git;
- использовать шаблоны конфигураций с подстановкой секретов на этапе деплоя.

## Незащещённые дампы и бэкапы

Даже если сам Redis хорошо спрятан, RDB/AOF‑файлы и бэкапы часто лежат без шифрования и с широкими правами доступа.

Ошибки:

- каталоги с dump.rdb и appendonly.aof доступны всем пользователям на сервере;
- бэкапы в облаке не шифруются;
- доступ к бэкапному хранилищу не ограничен.

Что делать:

- ограничить права на каталог данных Redis;
- включить шифрование дисков и хранилищ бэкапов;
- регулярно проверять, кто имеет доступ к этим данным.

## Игнорирование обновлений

Redis активно развивается, и вместе с новыми фичами выходят исправления безопасности. Оставлять продакшен на старой версии на годы вперёд — рискованно.

Практичные шаги:

- следить за релизами Redis и changelog;
- периодически обновлять версию на стендах и в продакшене;
- иметь простой процесс отката на прошлую версию в случае проблем.

## Итог

Типичные ошибки безопасности в **Redis** почти всегда связаны с простыми вещами: неправильный bind, отсутствие аутентификации, открытые в репозитории пароли и незащищённые бэкапы.

Если осознанно пройтись по этим пунктам и привести конфигурацию в порядок, уровень защиты Redis заметно вырастет, не усложняя архитектуру и не требуя экзотических решений.


