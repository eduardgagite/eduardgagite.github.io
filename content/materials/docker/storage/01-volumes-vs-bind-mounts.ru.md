---
title: "Типы хранилищ: volumes vs bind mounts"
category: "docker"
categoryTitle: "Docker"
section: "storage"
sectionTitle: "Хранение данных"
sectionOrder: 5
order: 1
---

Контейнеры эфемерны. Удалил контейнер — потерял данные.
Чтобы данные жили вечно (или хотя бы дольше контейнера), Docker предлагает два основных механизма: **Volumes** и **Bind Mounts**.

## 1. Bind Mounts (Привязка папок)

Это самый простой и понятный способ для разработки.
Вы берете реальную папку на вашем компьютере и "монтируете" (пробрасываете) её внутрь контейнера.
Изменения видны сразу: поменяли файл в IDE — он изменился внутри контейнера.

```bash
# Монтируем текущую папку $(pwd) в папку /app внутри контейнера
docker run -v $(pwd):/app node:18
```

**Плюсы:**
- Идеально для разработки (hot reload работает).
- Вы полностью контролируете файлы.

**Минусы:**
- Зависит от структуры папок хоста (путь `/Users/vasya/project` не сработает на сервере Linux).
- Проблемы с правами доступа (Permissions) между хостом и контейнером.
- Работает медленнее на Mac/Windows (из-за прослойки виртуализации файловой системы).

## 2. Volumes (Тома)

Это "родной" способ хранения данных в Docker.
Вы не говорите, ГДЕ хранить данные на диске. Вы говорите Docker-у: "Создай мне хранилище с именем `my-db-data` и следи за ним сам".
Docker хранит эти данные где-то в своих недрах (`/var/lib/docker/volumes/...`).

```bash
# Создаем том
docker volume create my-db-data

# Подключаем его к базе данных
docker run -v my-db-data:/var/lib/mysql mysql
```

**Плюсы:**
- Работает быстрее, чем bind mounts (особенно на Mac/Win).
- Не зависит от структуры папок хоста.
- Безопаснее: другие процессы не лезут в эти файлы.
- Легко переносить и бекапить средствами Docker.

**Минусы:**
- Неудобно лезть в эти файлы руками (они спрятаны глубоко в системных папках).

## Когда что использовать?

| Сценарий | Выбор | Почему |
| :--- | :--- | :--- |
| **Разработка кода** | **Bind Mount** | Чтобы изменения кода сразу попадали в контейнер без пересборки. |
| **Базы данных** | **Volume** | Скорость, надежность, изоляция. Вам не нужно смотреть файлы БД руками. |
| **Конфиги** | **Bind Mount** | Удобно править конфиг (`nginx.conf`) и перезапускать контейнер. |
| **Логи** | **Volume** | Чтобы не засорять папку проекта, но сохранять историю. |

## Итого

- **Bind Mount (`-v /path:/path`)**: Проброс конкретной папки. Для кода и конфигов.
- **Volume (`-v name:/path`)**: Управляемое хранилище. Для баз данных и важных данных приложения.

