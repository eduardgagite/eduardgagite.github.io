---
title: "Запуск первого контейнера и публикация порта"
category: "docker"
categoryTitle: "Docker"
section: "setup"
sectionTitle: "Установка и первый запуск"
sectionOrder: 2
order: 2
---

Запускать **hello-world** скучно. Давайте запустим что-то полезное, например, веб-сервер **Nginx**.

Наша задача: запустить веб-сервер в контейнере и открыть его в браузере на нашей машине.

## Запуск в фоновом режиме

Если просто написать **docker run nginx**, сервер запустится, но захватит ваш терминал. Вы будете видеть логи, но не сможете вводить команды. Обычно сервисы запускают в фоновом режиме (detached mode).

Для этого используется флаг **-d**:

```
docker run -d nginx
```

Docker вернет длинный хеш (ID контейнера) и вернет управление терминалом. Сервер работает где-то в фоне. Но как к нему подключиться?

## Публикация портов (Port Mapping)

По умолчанию контейнер закрыт от внешнего мира. У Nginx внутри контейнера открыт порт 80, но снаружи (на вашем компьютере) к нему доступа нет. Нам нужно «пробросить» порт из контейнера наружу.

Используем флаг **-p <порт_хоста>:<порт_контейнера>**.

Остановим предыдущий контейнер (если запустили) и запустим правильно:

```
docker run -d -p 8080:80 nginx
```

Теперь откройте браузер и перейдите по адресу: [http://localhost:8080](http://localhost:8080).
Вы увидите стартовую страницу "Welcome to nginx!".

### Что произошло?
1. Браузер отправил запрос на ваш компьютер на порт **8080**.
2. Docker перехватил этот запрос и перенаправил его внутрь контейнера на порт **80**.
3. Nginx внутри контейнера ответил.

Вы можете изменить внешний порт на любой свободный, например **-p 3000:80**, тогда сайт будет доступен на **localhost:3000**. Внутренний порт (80) менять нельзя, так как Nginx настроен слушать именно его.

## Итого

Команда **docker run** — основная команда для запуска.
- Флаг **-d** запускает контейнер в фоне, чтобы не блокировать терминал.
- Флаг **-p** пробрасывает порты, чтобы мы могли достучаться до приложения внутри контейнера.
