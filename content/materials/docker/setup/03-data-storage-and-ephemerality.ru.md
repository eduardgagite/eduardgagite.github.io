---
title: "Где Docker хранит данные и почему контейнеры эфемерны"
category: "docker"
categoryTitle: "Docker"
section: "setup"
sectionTitle: "Установка и первый запуск"
sectionOrder: 2
order: 3
---

Новички часто совершают фатальную ошибку: они сохраняют важные данные прямо внутри контейнера.
Давайте разберемся, почему так делать нельзя и что такое «эфемерность».

## Эксперимент

1. Запустим Ubuntu в интерактивном режиме (флаг **-it** позволяет «войти» внутрь контейнера):
   ```
   docker run -it ubuntu
   ```
2. Теперь мы внутри контейнера. Создадим файл с важными данными:
   ```
   echo "My secret data" > /important.txt
   cat /important.txt
   ```
3. Выйдем из контейнера командой **exit**. Контейнер остановился.

Теперь попробуем запустить Ubuntu снова:
```
docker run -it ubuntu
cat /important.txt
```
**Результат:** **cat: /important.txt: No such file or directory**. Файла нет!

## Почему данные пропали?

Каждый раз, когда вы пишете **docker run**, Docker создает **совершенно новый** контейнер из чистого образа. Это как распаковать новый ноутбук из коробки: на нем нет ваших файлов, только заводские настройки.

Даже если вы запустите тот же самый остановленный контейнер (командой **docker start**), данные сохранятся. Но в мире Docker принято считать контейнеры **эфемерными** (временными).
Контейнеры легко удаляются, пересоздаются, переезжают на другие серверы.

**Золотое правило:** Всё, что записано внутри файловой системы контейнера, может исчезнуть в любой момент (при обновлении версии, при сбое, при удалении контейнера).

## Как хранить данные надежно?

Для хранения данных, которые должны пережить перезапуск или удаление контейнера (базы данных, логи, загруженные файлы), используются **Volumes (Тома)** или **Bind Mounts**.

Это механизм, который говорит Docker: «Храни эту папку не внутри контейнера, а на моем реальном жестком диске».

Пример (пока просто для ознакомления):
```
docker run -d -v my-db-data:/var/lib/mysql mysql
```
В этом случае, даже если вы удалите контейнер с MySQL, данные останутся в томе **my-db-data**, и новый контейнер сможет их подхватить.

## Итого

- Контейнеры по своей природе **эфемерны**.
- **docker run** создает новый чистый контейнер.
- Не храните важные данные внутри контейнера без использования томов (Volumes). Мы подробно разберем работу с данными в отдельном модуле.
