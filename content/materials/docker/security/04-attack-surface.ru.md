---
title: "Минимизация поверхности атаки"
category: "docker"
categoryTitle: "Docker"
section: "security"
sectionTitle: "Безопасность"
sectionOrder: 9
order: 4
---

Безопасность — это не только пароли. Это уменьшение возможностей для взлома.
Чем меньше утилит в контейнере, тем сложнее хакеру.

## 1. Минимальные образы (Alpine / Distroless)

Если в контейнере есть **curl**, **wget**, **gcc**, хакер может скачать эксплойт, скомпилировать его и запустить.
Если в контейнере нет даже **sh** (как в Distroless), хакер не сможет выполнить произвольный код (Shell Injection не сработает).

**Совет:** Используйте **alpine** образы в продакшене. Удаляйте лишнее.

## 2. Read-only файловая система

Если приложению не нужно ничего писать на диск (кроме временных файлов в **/tmp**), запретите запись во всю файловую систему.

```
docker run --read-only --tmpfs /tmp my-app
```
Теперь, даже если хакер найдет уязвимость, он не сможет изменить код вашего приложения или загрузить бэкдор.

## 3. Сканирование образов

Регулярно проверяйте свои образы на известные уязвимости (CVE).

Команда **docker scout** (встроена в новые версии Docker):
```
docker scout quickview nginx:latest
```
Она покажет, сколько критических уязвимостей найдено в этом образе.

## Итоговый чек-лист безопасности

1. [ ] Запуск от обычного **USER** (не root).
2. [ ] Лимиты ресурсов (**memory**, **cpus**).
3. [ ] Минимальный базовый образ (**alpine**).
4. [ ] Секреты не вшиты в образ.
5. [ ] Регулярное обновление базовых образов.
