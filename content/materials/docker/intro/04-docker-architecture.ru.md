---
title: "Архитектура Docker"
category: "docker"
categoryTitle: "Docker"
section: "intro"
sectionTitle: "Введение"
sectionOrder: 1
order: 4
---

Docker — это клиент-серверное приложение. Когда вы набираете команды в терминале, происходит больше, чем кажется на первый взгляд. Разберем основные компоненты системы.

## Основные компоненты

### 1. Docker Client (Клиент)
Это то, с чем вы взаимодействуете. Утилита командной строки `docker`.
Когда вы пишете `docker build` или `docker run`, клиент отправляет эти команды демону Docker. Клиент может работать на той же машине, что и демон, или подключаться к удаленному серверу.

### 2. Docker Daemon (Демон, `dockerd`)
Это «мозг» и «руки» Docker. Он работает в фоне на хост-машине.
Именно демон выполняет всю тяжелую работу:
- Создает и удаляет контейнеры.
- Скачивает и собирает образы.
- Управляет сетями и хранилищами данных.

### 3. Docker Registry (Реестр)
Это хранилище образов. Самый известный публичный реестр — **Docker Hub**.
Когда вы просите запустить программу, которой у вас нет локально, демон идет в реестр, скачивает нужный образ и запускает его. Компании часто поднимают свои приватные реестры (например, GitLab Registry) для хранения закрытого кода.

## Ключевые объекты

В работе с Docker вы постоянно оперируете тремя сущностями:

### Image (Образ)
Это **шаблон**, чертеж. Образ доступен только для чтения (read-only). В нем запаковано приложение, код, библиотеки, переменные среды — всё, что нужно для запуска.
Аналогия: Образ — это **класс** в программировании.

### Container (Контейнер)
Это **запущенный экземпляр** образа. У него появляется свой слой для записи данных. Контейнеры можно создавать, запускать, останавливать и удалять.
Аналогия: Контейнер — это **объект** (экземпляр класса). Из одного образа можно запустить хоть 100 контейнеров.

### Volume (Том)
Так как контейнеры эфемерны (при удалении контейнера все данные внутри него пропадают), для хранения важных данных (базы данных, логи, файлы пользователей) используются **Volumes**. Это специальные папки, которые хранятся на хост-машине и «пробрасываются» внутрь контейнера.

## Как это работает вместе

Пример команды:
```bash
docker run -d nginx
```

Что происходит "под капотом":
1. **Client** получает команду `run` и передает её демону.
2. **Daemon** проверяет, есть ли у вас локально образ `nginx`.
3. Если нет — он идет в **Registry** (Docker Hub), скачивает образ `nginx` себе в кэш.
4. Из этого **Image** демон создает новый **Container**.
5. Демон запускает контейнер и выделяет ему ресурсы.

## Итого

Вы управляете Docker через **Client**, который отдает приказы **Daemon**. Демон скачивает **Images** из **Registry** и превращает их в живые **Containers**. Понимание этой цепочки помогает быстрее находить проблемы, когда что-то идет не так.

