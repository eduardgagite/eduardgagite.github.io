---
title: "Алгоритм поиска неисправностей"
category: "docker"
categoryTitle: "Docker"
section: "troubleshooting"
sectionTitle: "Типичные проблемы и решения"
sectionOrder: 10
order: 1
---

Контейнер не запускается или работает неправильно? Без паники.
Следуйте этому алгоритму, чтобы найти причину за 5 минут.

## 1. Проверьте статус (docker ps -a)

```
docker ps -a
```
Смотрите на колонку **STATUS**:
- **Up 2 minutes** — работает.
- **Exited (1) 5 seconds ago** — упал с ошибкой.
- **Exited (0)** — завершился успешно (штатно).
- **Restarting (1)** — падает, перезапускается, падает снова (Cyclic Restart).

## 2. Читайте логи (docker logs)

Если контейнер упал или перезапускается — причина в 99% случаев написана в логах.

```
docker logs <container_name>
```
Ищите ключевые слова: **Error**, **Exception**, **Fatal**, **Address already in use**.

**Частая ошибка:** Приложение падает молча.
Значит, оно пишет логи не в stdout, а в файл внутри контейнера.
Решение: Зайдите внутрь (**docker exec**) и найдите лог-файл, или настройте приложение писать в консоль.

## 3. Проверьте настройки (docker inspect)

Если приложение работает, но ведет себя странно (не видит базу, не тот порт), проверьте, как оно запущено.

```
docker inspect <container_name>
```
Что проверять:
- **Mounts**: Правильно ли примонтированы папки? Тот ли путь?
- **Env**: Те ли переменные окружения (пароли, хосты)?
- **NetworkSettings**: Тот ли IP? Открыты ли порты?

## 4. Зайдите внутрь (docker exec)

Если снаружи ничего не понятно, лезьте внутрь.

```
docker exec -it <container_name> sh
```
Внутри проверьте:
- Виден ли соседний сервис? **ping db** или **nc -zv db 5432**.
- Есть ли файлы конфигурации? **cat /app/config.json**.
- Какие процессы запущены? **top** или **ps aux**.

## 5. Проверьте ресурсы (docker stats)

Может, контейнеру просто не хватает памяти, и он "тупит"?

```
docker stats
```
Вы увидите живое потребление CPU и RAM. Если RAM уперлась в лимит — это кандидат на вылет (OOM Kill).

## Итого

Логи (**logs**) -> Конфиг (**inspect**) -> Проверка изнутри (**exec**).
Этот треугольник решает любую проблему.
