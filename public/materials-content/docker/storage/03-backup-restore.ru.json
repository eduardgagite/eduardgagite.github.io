{"content":"\nВы используете Volumes. Это круто. Но как сделать бэкап?\nВедь том — это не просто папка, в которую можно зайти проводником (особенно на Mac/Windows).\n\nDocker-way решение: использовать временный контейнер-утилиту.\n\n## Создание бэкапа\n\nЗадача: Заархивировать содержимое тома `my-data` в файл `backup.tar.gz` в текущей папке.\n\n```bash\ndocker run --rm \\\n  -v my-data:/source \\\n  -v $(pwd):/backup \\\n  alpine \\\n  tar czf /backup/backup.tar.gz -C /source .\n```\n\nРазберем эту магию:\n1. `docker run --rm`: Запустить и сразу удалить контейнер после завершения.\n2. `-v my-data:/source`: Подключили наш том c данными в папку `/source` внутри контейнера.\n3. `-v $(pwd):/backup`: Подключили текущую папку хоста в папку `/backup` внутри контейнера.\n4. `alpine`: Используем самый легкий образ.\n5. `tar ...`: Команда архивации. Берет файлы из `/source` и кладет архив в `/backup`.\n\nВ итоге у вас на компьютере появляется файл `backup.tar.gz`.\n\n## Восстановление из бэкапа\n\nЗадача: Распаковать `backup.tar.gz` в новый том `restored-data`.\n\n1. Создаем пустой том:\n```bash\ndocker volume create restored-data\n```\n\n2. Запускаем распаковку:\n```bash\ndocker run --rm \\\n  -v restored-data:/dest \\\n  -v $(pwd):/backup \\\n  alpine \\\n  tar xzf /backup/backup.tar.gz -C /dest\n```\n\nЛогика та же: монтируем том и папку с бэкапом, но теперь выполняем команду распаковки (`tar x...`).\n\n## Зачем это нужно?\n\n- Перенос данных с локальной машины на сервер (сделали tar -> scp на сервер -> распаковали).\n- Регулярные бэкапы перед обновлением базы данных.\n- Переезд на другую машину.\n\n## Итого\n\nНе бойтесь того, что данные \"спрятаны\" в Volume. С помощью маленького контейнера Alpine вы всегда можете добраться до них, заархивировать и перенести куда угодно.\n\n"}