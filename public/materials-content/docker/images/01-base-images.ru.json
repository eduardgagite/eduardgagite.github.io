{"content":"\nЛюбой Docker-образ начинается с инструкции **FROM**. Это фундамент.\nВы выбираете \"родителя\", на основе которого будете строить своё приложение.\nВыбор базового образа критически влияет на **размер**, **безопасность** и **удобство отладки**.\n\n## 1. Debian / Ubuntu (Full OS)\n\nЭто полноценные дистрибутивы Linux, упакованные в контейнер.\nВ них есть всё привычное: **apt**, **bash**, **curl**, **git**.\n\nПример: **FROM node:18** (часто основан на Debian).\n\n**Плюсы:**\n- Максимальная совместимость (glibc).\n- Легко дебажить (есть все утилиты).\n- Привычное окружение.\n\n**Минусы:**\n- Большой размер (сотни мегабайт).\n- Много лишнего софта = больше потенциальных уязвимостей (CVE).\n\n## 2. Alpine Linux\n\nСверхлегкий дистрибутив Linux (около 5 МБ). Использует библиотеку **musl** вместо **glibc**.\nСтандарт де-факто для тех, кто гонится за минимальным размером.\n\nПример: **FROM node:18-alpine**.\n\n**Плюсы:**\n- Очень маленький размер образа.\n- Меньше поверхность атаки.\n\n**Минусы:**\n- Использует **apk** вместо **apt**.\n- Нет **glibc** (некоторые бинарные файлы могут не запуститься или работать медленно).\n- Сложнее дебажить из-за урезанного набора утилит.\n\n## 3. Distroless (Google)\n\nРадикальный подход: в образе нет **ничего**, кроме вашего приложения и минимальных рантайм-зависимостей.\nТам нет даже оболочки (**bash**, **sh**) и пакетного менеджера!\n\nПример: **gcr.io/distroless/nodejs:18**.\n\n**Плюсы:**\n- Идеальная безопасность (злоумышленник не сможет запустить shell, потому что его нет).\n- Минимальный размер.\n\n**Минусы:**\n- Невозможно зайти внутрь через **docker exec** (нет шелла).\n- Дебаг только через логи.\n\n## Что выбрать?\n\n1. **Для разработки:** Обычные образы (**node:18**, **python:3.9**) или Alpine. Вам нужны инструменты внутри.\n2. **Для продакшена:**\n   - Если важен размер и безопасность: **Alpine**.\n   - Если паранойя безопасности максимальна: **Distroless**.\n   - Если нужны специфичные C++ библиотеки: **Debian-slim**.\n\n## Итого\n\n- Всегда указывайте конкретные теги (**node:18-alpine**), а не **latest**.\n- Начинайте с **alpine** версий. Если что-то не работает — переходите на **slim** (урезанный Debian).\n- Используйте полные образы только если это действительно необходимо.\n"}