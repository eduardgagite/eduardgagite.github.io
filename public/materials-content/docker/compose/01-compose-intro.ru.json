{"content":"\nЗапускать контейнеры командами **docker run** с кучей флагов (**-v**, **-p**, **--network**, **-e**) — это неудобно, ненадежно и сложно воспроизводить. Если у вас 5 сервисов, запуск превращается в ад.\n\n**Docker Compose** решает эту проблему. Это инструмент для описания и запуска мульти-контейнерных приложений.\nВы описываете всю конфигурацию в одном YAML-файле (**docker-compose.yml**) и запускаете всё одной командой.\n\n## Структура docker-compose.yml\n\nДавайте перепишем пример с WordPress и MySQL из прошлого урока на язык Compose.\n\n```\nversion: '3.8'\n\nservices:\n  db:\n    image: mysql:5.7\n    volumes:\n      - db_data:/var/lib/mysql\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: somewordpress\n      MYSQL_DATABASE: wordpress\n      MYSQL_USER: wordpress\n      MYSQL_PASSWORD: wordpress\n\n  wordpress:\n    depends_on:\n      - db\n    image: wordpress:latest\n    ports:\n      - \"8080:80\"\n    restart: always\n    environment:\n      WORDPRESS_DB_HOST: db:3306\n      WORDPRESS_DB_USER: wordpress\n      WORDPRESS_DB_PASSWORD: wordpress\n      WORDPRESS_DB_NAME: wordpress\n\nvolumes:\n  db_data:\n```\n\n## Что изменилось?\n\n1. **Декларативность:** Мы не пишем команды, мы описываем *желаемое состояние*.\n2. **Сеть:** Docker Compose **автоматически** создает общую сеть для всех сервисов в файле. Нам не нужно делать **docker network create**.\n3. **DNS:** Имена сервисов (**db**, **wordpress**) автоматически становятся хостнеймами.\n\nТеперь, чтобы запустить весь этот зоопарк, нужна всего одна команда:\n```\ndocker compose up -d\n```\n(**-d** — detached mode, запустить в фоне).\n\n## Итого\n\nDocker Compose — это стандарт для локальной разработки.\nВместо того чтобы хранить **.txt** файл с длинными командами **docker run**, вы храните аккуратный **docker-compose.yml** в репозитории проекта.\n"}