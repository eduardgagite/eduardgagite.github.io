{"content":"\nХардкодить пароли в **docker-compose.yml** — плохая идея. Файл попадет в git, и пароли утекут.\nDocker Compose нативно поддерживает файлы **.env**.\n\n## Как это работает\n\n1. Создайте файл **.env** рядом с **docker-compose.yml**:\n\n```\nDB_USER=admin\nDB_PASS=super_secret_password_123\nDB_PORT=5432\n```\n\n2. Используйте переменные в **docker-compose.yml**:\n\n```\nservices:\n  db:\n    image: postgres\n    environment:\n      POSTGRES_USER: ${DB_USER}\n      POSTGRES_PASSWORD: ${DB_PASS}\n    ports:\n      - \"${DB_PORT}:5432\"\n```\n\nТеперь вы можете коммитить **docker-compose.yml** в репозиторий, а **.env** добавить в **.gitignore**.\nУ каждого разработчика будет свой **.env** со своими настройками.\n\n## Значения по умолчанию\n\nМожно задавать дефолтные значения прямо в YAML, если переменная не найдена:\n\n```\nports:\n  - \"${PORT:-8080}:80\"\n```\n\n## Итого\n\nНикогда не храните секреты в чистом виде в **docker-compose.yml**. Используйте **.env** файл — это стандарт индустрии для конфигурации 12-factor приложений.\n"}