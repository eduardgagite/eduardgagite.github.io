{"content":"\nКогда вы пишете `docker stop`, контейнер останавливается не мгновенно. Docker ведет себя вежливо: он просит приложение завершиться самостоятельно.\n\n## Как это работает\n\n1. **docker stop** отправляет главному процессу контейнера (PID 1) сигнал **SIGTERM**.\n2. У приложения есть время (по умолчанию 10 секунд), чтобы:\n   - Дообработать текущие запросы.\n   - Сохранить данные на диск.\n   - Закрыть соединения с базой данных.\n3. Если через 10 секунд приложение всё еще работает, Docker отправляет сигнал **SIGKILL**.\n4. **SIGKILL** — это выстрел в голову. Процесс убивается мгновенно операционной системой, без возможности что-либо сохранить.\n\n## Почему это важно знать?\n\nЕсли ваше приложение \"долго думает\" при выключении (например, сохраняет большой дамп базы), стандартных 10 секунд может не хватить. Данные могут побиться.\n\nВы можете увеличить время ожидания флагом `-t` (timeout):\n\n```bash\n# Дать контейнеру 30 секунд на корректное завершение\ndocker stop -t 30 my-app\n```\n\n## Команда docker kill\n\nЕсли вы не хотите ждать и вам нужно убить контейнер прямо сейчас (аналог выдергивания вилки из розетки):\n\n```bash\ndocker kill my-app\n```\nЭто сразу отправляет **SIGKILL**. Используйте только в крайних случаях, когда приложение зависло намертво.\n\n## Итого\n\n- Всегда используйте `docker stop` для штатной остановки.\n- Приложение должно уметь обрабатывать сигнал `SIGTERM` (большинство современных веб-серверов это умеют).\n- Если приложение закрывается дольше 10 секунд, увеличьте таймаут или оптимизируйте код.\n\n"}