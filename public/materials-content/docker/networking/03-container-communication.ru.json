{"content":"\nДавайте закрепим знания на реальном примере.\nМы запустим классическую связку: **Веб-приложение (WordPress)** + **База данных (MySQL)**.\n\n## Шаг 1. Создаем сеть\n\nЧтобы они видели друг друга, им нужна общая комната.\n\n```bash\ndocker network create wp-net\n```\n\n## Шаг 2. Запускаем Базу Данных\n\nОбратите внимание на `--name mysql`. Это имя станет DNS-адресом для вордпресса.\n\n```bash\ndocker run -d \\\n  --name mysql \\\n  --network wp-net \\\n  -e MYSQL_ROOT_PASSWORD=somewordpress \\\n  -e MYSQL_DATABASE=wordpress \\\n  -e MYSQL_USER=wordpress \\\n  -e MYSQL_PASSWORD=wordpress \\\n  mysql:5.7\n```\nМы не публикуем порты (`-p`), потому что базе не нужно быть доступной из интернета. Ей нужно быть доступной только внутри сети `wp-net`.\n\n## Шаг 3. Запускаем WordPress\n\n```bash\ndocker run -d \\\n  --name wordpress \\\n  --network wp-net \\\n  -e WORDPRESS_DB_HOST=mysql \\\n  -e WORDPRESS_DB_USER=wordpress \\\n  -e WORDPRESS_DB_PASSWORD=wordpress \\\n  -e WORDPRESS_DB_NAME=wordpress \\\n  -p 8080:80 \\\n  wordpress:latest\n```\n\nОбратите внимание на `-e WORDPRESS_DB_HOST=mysql`. Мы говорим WordPress-у: \"Ищи базу данных по адресу `mysql`\". Docker направит этот запрос в контейнер с именем `mysql`.\n\n## Результат\n\nОткройте `http://localhost:8080`. Вы увидите установщик WordPress.\nДва контейнера общаются друг с другом по внутренней защищенной сети, а наружу торчит только веб-сайт.\n\n## Итого\n\nЭто и есть суть микросервисной архитектуры в Docker:\n1. Создали сеть.\n2. Запустили базу (скрыта от мира).\n3. Запустили бэкенд (подключился к базе по имени).\n4. Опубликовали порт бэкенда наружу.\n\n"}