{"content":"\nПакет **fmt** — один из самых используемых в Go. Он отвечает за форматированный вывод и сканирование данных. Почти каждая программа начинается с **fmt.Println**.\n\n## Основные функции вывода\n\n```\nfmt.Print(\"Hello\")           // без перевода строки\nfmt.Println(\"Hello\", \"Go\")   // с переводом строки, пробел между аргументами\nfmt.Printf(\"Name: %s\\n\", name) // форматированный вывод\n```\n\nРазница между ними:\n- **Print** — выводит без перевода строки. Между аргументами пробел только если ни один не строка.\n- **Println** — всегда добавляет пробелы между аргументами и перевод строки в конце.\n- **Printf** — форматирование по шаблону с глаголами (verbs).\n\n## Форматные глаголы (verbs)\n\nГлагол — это спецификатор формата, начинающийся с **%**:\n\n```\nname := \"Gopher\"\nage := 5\npi := 3.14159\nactive := true\n\nfmt.Printf(\"%s\\n\", name)    // Gopher        — строка\nfmt.Printf(\"%d\\n\", age)     // 5             — целое число\nfmt.Printf(\"%f\\n\", pi)      // 3.141590      — дробное число\nfmt.Printf(\"%.2f\\n\", pi)    // 3.14          — дробное, 2 знака после точки\nfmt.Printf(\"%t\\n\", active)  // true          — булево\nfmt.Printf(\"%v\\n\", name)    // Gopher        — значение в стандартном формате\nfmt.Printf(\"%T\\n\", age)     // int           — тип переменной\nfmt.Printf(\"%p\\n\", &name)   // 0xc0000b4010  — адрес в памяти\n```\n\nСамый универсальный глагол — **%v**: он работает с любым типом. Для структур **%+v** выводит имена полей, а **%#v** — Go-синтаксис:\n\n```\ntype User struct {\n    Name string\n    Age  int\n}\n\nu := User{\"Alice\", 30}\nfmt.Printf(\"%v\\n\", u)   // {Alice 30}\nfmt.Printf(\"%+v\\n\", u)  // {Name:Alice Age:30}\nfmt.Printf(\"%#v\\n\", u)  // main.User{Name:\"Alice\", Age:30}\n```\n\n## Sprintf — форматирование в строку\n\n**Sprintf** не выводит, а возвращает отформатированную строку:\n\n```\nmsg := fmt.Sprintf(\"Пользователь %s, возраст %d\", name, age)\n// msg = \"Пользователь Gopher, возраст 5\"\n```\n\nЭто основной способ собрать строку из разных частей. Используйте его вместо конкатенации **+** когда типы разные.\n\n## Errorf — создание ошибок\n\n**fmt.Errorf** создаёт ошибку с форматированным сообщением:\n\n```\nuserID := 42\nerr := fmt.Errorf(\"пользователь %d не найден\", userID)\n```\n\nС Go 1.13 появился глагол **%w** для оборачивания ошибок. Это позволяет сохранить исходную ошибку внутри:\n\n```\noriginalErr := sql.ErrNoRows\nwrappedErr := fmt.Errorf(\"getUser: %w\", originalErr)\n\n// Распаковать можно через errors.Is или errors.As\nif errors.Is(wrappedErr, sql.ErrNoRows) {\n    fmt.Println(\"Запись не найдена\")\n}\n```\n\n## Fprintf — вывод в произвольный io.Writer\n\n**Fprintf** пишет не в стандартный вывод, а в любой **io.Writer**: файл, HTTP-ответ, буфер:\n\n```\n// В файл\nfile, _ := os.Create(\"log.txt\")\nfmt.Fprintf(file, \"Время: %s\\n\", time.Now())\n\n// В HTTP-ответ\nfunc handler(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprintf(w, \"Hello, %s!\\n\", r.URL.Query().Get(\"name\"))\n}\n\n// В буфер\nvar buf bytes.Buffer\nfmt.Fprintf(&buf, \"count: %d\", 42)\ns := buf.String() // \"count: 42\"\n```\n\n## Sscanf — разбор строк по формату\n\nЕсли **Printf** форматирует значения в строку, то **Sscanf** делает обратное — извлекает значения из строки:\n\n```\nvar name string\nvar age int\n\nn, err := fmt.Sscanf(\"Alice 30\", \"%s %d\", &name, &age)\n// name = \"Alice\", age = 30, n = 2 (количество успешно считанных значений)\n```\n\n## Stringer — кастомный вывод ваших типов\n\nЕсли реализовать метод **String() string** для своего типа, **fmt** будет использовать его автоматически:\n\n```\ntype Color int\n\nconst (\n    Red Color = iota\n    Green\n    Blue\n)\n\nfunc (c Color) String() string {\n    switch c {\n    case Red:\n        return \"Red\"\n    case Green:\n        return \"Green\"\n    case Blue:\n        return \"Blue\"\n    default:\n        return \"Unknown\"\n    }\n}\n\nfmt.Println(Red)           // Red\nfmt.Printf(\"%v\\n\", Green)  // Green\n```\n\n## Итого\n\n**fmt** — это форматированный ввод-вывод. **Printf/Sprintf** с глаголами (**%s**, **%d**, **%v**, **%w**) покрывают 90% задач. **Sprintf** собирает строки, **Errorf** с **%w** оборачивает ошибки сохраняя цепочку. **Метод String()** на своих типах делает вывод читаемым везде — в логах, тестах, отладке.\n"}